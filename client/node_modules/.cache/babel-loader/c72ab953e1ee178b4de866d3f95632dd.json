{"ast":null,"code":"var _jsxFileName = \"/home/dung/netflix-project/client/src/pages/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useState } from \"react\";\nimport \"./Login.scss\";\nimport { useHistory } from \"react-router-dom\";\nimport HttpHook from \"../../hooks/HttpHook\";\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from \"../../context/auth/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  const {\n    token,\n    login\n  } = useContext(AuthContext);\n  const {\n    sendRequest\n  } = HttpHook();\n  const DS = process.env.REACT_APP_DOMAIN_SERVER;\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handlerSubmitLogin = async e => {\n    e.preventDefault();\n    const response = await sendRequest(`${DS}/auth/login`, \"POST\", JSON.stringify(user), {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + token\n    });\n    login(response === null || response === void 0 ? void 0 : response.userId, response === null || response === void 0 ? void 0 : response.token);\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo\",\n          src: \"http://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlerSubmitLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          onChange: handleChange,\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleChange,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"loginButton\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Sign Up \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), \"now\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, perspiciatis? \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Learn more\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"xlwinnd6NRfaQ+MTwhqMgGx/eTk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/dung/netflix-project/client/src/pages/Login/Login.js"],"names":["React","useContext","useState","useHistory","HttpHook","Link","AuthContext","Login","user","setUser","history","token","login","sendRequest","DS","process","env","REACT_APP_DOMAIN_SERVER","handleChange","e","target","name","value","handlerSubmitLogin","preventDefault","response","JSON","stringify","Authorization","userId","push"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useState } from \"react\";\nimport \"./Login.scss\";\nimport { useHistory } from \"react-router-dom\";\nimport HttpHook from \"../../hooks/HttpHook\";\nimport {Link} from 'react-router-dom'\nimport { AuthContext } from \"../../context/auth/AuthContext\";\n\nfunction Login() {\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  const { token, login } = useContext(AuthContext);\n  const { sendRequest } = HttpHook();\n  const DS = process.env.REACT_APP_DOMAIN_SERVER;\n\n  const handleChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handlerSubmitLogin = async (e) => {\n    e.preventDefault();\n\n    const response = await sendRequest(\n      `${DS}/auth/login`,\n      \"POST\",\n      JSON.stringify(user),\n      {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      }\n    );\n    login(response?.userId, response?.token);\n    history.push(\"/\");\n  };\n  return (\n    <div className=\"login\">\n      <div className=\"top\">\n        <div className=\"wrapper\">\n          <img\n            className=\"logo\"\n            src=\"http://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png\"\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div className=\"container\">\n        <form onSubmit={handlerSubmitLogin}>\n          <h1>Sign In</h1>\n          <input\n            type=\"email\"\n            name=\"email\"\n            onChange={handleChange}\n            placeholder=\"Email\"\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            onChange={handleChange}\n            placeholder=\"Password\"\n          />\n          <button type=\"submit\" className=\"loginButton\">\n            Sign In\n          </button>\n          <span>\n            <Link to=\"/register\">\n              <b>Sign Up </b>\n            </Link>\n            now\n          </span>\n          <small>\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor,\n            perspiciatis? <b>Learn more</b>.\n          </small>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}